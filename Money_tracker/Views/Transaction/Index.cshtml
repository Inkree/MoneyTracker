@using ViewModels.Transactions;
@using Pages.Shared;
@model IndexTransactionViewModel;

@{
    Layout = "_Layout";
}

<div class="row">
    <div class="col-lg-2 col-md-2 col-12"></div>
    <div class="col-lg-8 col-md-8 col-12 main-column p-0 d-flex flex-column justify-content-between min-vh-100">
        <div class="content flex-grow-1">
            <div class="header text-center d-flex justify-content-between m-3">
                <i class="bi bi-search"></i>
                <p class="fs-4">Your balance</p>
                <i class="bi bi-brightness-high-fill"></i>

            </div>
            <div class="balance text-center mt-5">
                <div class="current-balance">
                    <h2>@Model.Balance</h2>
                </div>
                <div class="text">Current Balance</div>
            </div>
            <div class="transactions-cards mt-5">
              @if(Model.Transactions != null){
                @foreach(var group in Model.Transactions)
                {
                    <div class="day text-center mt-5">
                         @(group.Key == DateTime.Today ? "Today" : group.Key.ToShortDateString()) 
                    </div>
                    @foreach(var transaction in group)
                    {
                        <div style="display:flex;justify-content:space-between" class="transaction mt-4 mx-4">
                            <div class="category fw-bolder">
                                <div class="icon-item" style="fill:@transaction.Category.Color"> 
                                    @Html.Raw(transaction.Category.SvgContent)                                                   
                                </div>
                               
                                <p style="margin:0">@transaction.Category.Name </p>
                            </div>
                            <div class="sum fw-bolder mt-1">@transaction.Amount</div>
                        </div>
                    }
                }
              }
            </div>
        </div>
        @await Html.PartialAsync("AuthFooter", new AuthFooterModel())
    </div>
    <div class="col-lg-2 col-md-2 col-12">
    </div>
</div>

<style>
   

    .transactions-cards .day {
        color:dimgrey;
      
    }

    .balance .text{
        color:dimgrey;
    }

    
</style>
